<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FAQ - BP TAPERA</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* Reset dan variabel */
        :root {
            --primary: #66b243;
            --primary-dark: #4f8a34;
            --primary-light: #e8f5e9;
            --secondary: #2e7d32;
            --accent: #ffc107;
            --text: #263238;
            --text-light: #546e7a;
            --background: #f5f9f6;
            --card-bg: #ffffff;
            --border: #c8e6c9;
            --shadow: 0 4px 12px rgba(102, 178, 67, 0.15);
            --shadow-hover: 0 8px 20px rgba(102, 178, 67, 0.25);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: var(--text);
            background-color: var(--background);
        }

        /* Header */
        .header {
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            color: white;
            padding: 2.5rem 1rem;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" preserveAspectRatio="none"><path d="M0,0 L100,0 L100,100 Z" fill="rgba(255,255,255,0.1)"/></svg>');
            background-size: cover;
        }

        .header-content {
            position: relative;
            z-index: 1;
            max-width: 1200px;
            margin: 0 auto;
        }

        .logo-container {
            display: flex;
            justify-content: center;
            align-items: center;
            margin-bottom: 1.5rem;
        }

        .logo {
            height: 70px;
            margin-right: 20px;
            filter: drop-shadow(0 2px 4px rgba(0,0,0,0.2));
        }

        .header h1 {
            font-size: 2.8rem;
            margin-bottom: 0.5rem;
            font-weight: 700;
            text-shadow: 0 2px 4px rgba(0,0,0,0.2);
        }

        .header p {
            font-size: 1.3rem;
            opacity: 0.95;
            max-width: 700px;
            margin: 0 auto;
            font-weight: 300;
        }

        /* Search Section */
        .search-section {
            background-color: white;
            padding: 2rem 1rem;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.05);
            border-bottom: 1px solid var(--border);
        }

        .search-container {
            max-width: 800px;
            margin: 0 auto;
            position: relative;
        }

        .search-box {
            width: 100%;
            padding: 1.2rem 1.8rem;
            font-size: 1.1rem;
            border: 2px solid var(--border);
            border-radius: 50px;
            outline: none;
            transition: all 0.3s;
            box-shadow: var(--shadow);
            background-color: var(--primary-light);
        }

        .search-box:focus {
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(102, 178, 67, 0.3);
            background-color: white;
        }

        .search-icon {
            position: absolute;
            right: 25px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--primary);
            font-size: 1.2rem;
        }

        /* Main Content */
        .main-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2.5rem 1rem;
            display: flex;
            gap: 2rem;
        }

        /* Categories Sidebar */
        .categories-sidebar {
            flex: 0 0 320px;
            background: white;
            border-radius: 16px;
            box-shadow: var(--shadow);
            padding: 1.5rem;
            height: fit-content;
            position: sticky;
            top: 2rem;
        }

        .categories-title {
            font-size: 1.5rem;
            margin-bottom: 1.5rem;
            color: var(--secondary);
            padding-bottom: 0.5rem;
            border-bottom: 2px solid var(--primary);
        }

        .categories-list {
            display: flex;
            flex-direction: column;
            gap: 0.8rem;
        }

        .category-item {
            display: flex;
            align-items: center;
            padding: 1rem 1.2rem;
            background: var(--primary-light);
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s;
            border-left: 4px solid transparent;
        }

        .category-item:hover {
            background: rgba(102, 178, 67, 0.2);
            transform: translateX(5px);
        }

        .category-item.active {
            background: rgba(102, 178, 67, 0.25);
            border-left-color: var(--primary);
            box-shadow: 0 4px 8px rgba(102, 178, 67, 0.2);
        }

        .category-icon {
            margin-right: 12px;
            font-size: 1.3rem;
            color: var(--primary);
            width: 30px;
            text-align: center;
        }

        .category-name {
            font-weight: 600;
            color: var(--text);
        }

        /* FAQ Content */
        .faq-content {
            flex: 1;
            background: white;
            border-radius: 16px;
            box-shadow: var(--shadow);
            padding: 2rem;
            min-height: 600px;
        }

        .faq-section {
            display: none;
            animation: fadeIn 0.5s ease-out;
        }

        .faq-section.active {
            display: block;
        }

        .faq-section-title {
            font-size: 1.8rem;
            margin-bottom: 2rem;
            padding-bottom: 1rem;
            border-bottom: 2px solid var(--primary);
            color: var(--secondary);
            display: flex;
            align-items: center;
        }

        .section-icon {
            margin-right: 15px;
            font-size: 1.8rem;
            color: var(--primary);
        }

        .faq-item {
            background: var(--primary-light);
            border-radius: 12px;
            margin-bottom: 1.2rem;
            box-shadow: 0 2px 8px rgba(102, 178, 67, 0.1);
            overflow: hidden;
            border-left: 4px solid var(--primary);
        }

        .faq-question {
            padding: 1.5rem;
            font-weight: 600;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            background-color: var(--primary-light);
            transition: background-color 0.3s;
            font-size: 1.1rem;
        }

        .faq-question:hover {
            background-color: rgba(102, 178, 67, 0.15);
        }

        .faq-question::after {
            content: '\f107';
            font-family: 'Font Awesome 6 Free';
            font-weight: 900;
            font-size: 1.3rem;
            color: var(--primary);
            transition: transform 0.3s;
        }

        .faq-item.active .faq-question::after {
            transform: rotate(180deg);
        }

        .faq-answer {
            padding: 0 1.5rem;
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.4s, padding 0.4s;
            background-color: white;
        }

        .faq-item.active .faq-answer {
            padding: 1.5rem;
            max-height: 1000px;
        }

        .faq-answer p, .faq-answer ul, .faq-answer ol {
            margin-bottom: 1rem;
        }

        .faq-answer ul, .faq-answer ol {
            padding-left: 1.5rem;
        }

        .faq-answer ul li, .faq-answer ol li {
            margin-bottom: 0.5rem;
        }

        .highlight {
            background-color: #fff9c4;
            padding: 2px 6px;
            border-radius: 4px;
            font-weight: 600;
        }

        .contact-link {
            color: var(--primary);
            font-weight: 600;
            text-decoration: none;
        }

        .contact-link:hover {
            text-decoration: underline;
        }

        /* No Results */
        .no-results {
            text-align: center;
            padding: 3rem;
            background: white;
            border-radius: 16px;
            box-shadow: var(--shadow);
        }

        .no-results h3 {
            font-size: 1.8rem;
            color: var(--secondary);
            margin-bottom: 1rem;
        }

        .no-results p {
            color: var(--text-light);
            font-size: 1.1rem;
        }

        /* Contact Section */
        .contact-section {
            background: linear-gradient(135deg, var(--primary-light), #e8f5e9);
            padding: 3.5rem 2rem;
            border-radius: 20px;
            margin-top: 4rem;
            text-align: center;
            box-shadow: var(--shadow);
            border: 1px solid var(--border);
        }

        .contact-section h2 {
            margin-bottom: 1.5rem;
            color: var(--secondary);
            font-size: 2.2rem;
        }

        .contact-section > p {
            font-size: 1.2rem;
            color: var(--text-light);
            max-width: 700px;
            margin: 0 auto 2.5rem;
        }

        .contact-methods {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 2rem;
            margin-top: 1.5rem;
        }

        .contact-method {
            display: flex;
            align-items: center;
            background: white;
            padding: 1.5rem 2rem;
            border-radius: 12px;
            box-shadow: var(--shadow);
            transition: transform 0.3s;
            min-width: 280px;
        }

        .contact-method:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-hover);
        }

        .contact-icon {
            margin-right: 15px;
            font-size: 2rem;
            color: var(--primary);
            width: 50px;
            text-align: center;
        }

        .contact-details {
            text-align: left;
        }

        .contact-details strong {
            display: block;
            font-size: 1.1rem;
            margin-bottom: 5px;
            color: var(--secondary);
        }

        /* Footer */
        .footer {
            background: linear-gradient(135deg, var(--secondary), #1b5e20);
            color: white;
            padding: 3rem 1rem;
            text-align: center;
            margin-top: 4rem;
        }

        .footer-content {
            max-width: 1200px;
            margin: 0 auto;
        }

        .footer p {
            margin-bottom: 1rem;
            opacity: 0.9;
        }

        .footer-logo {
            height: 50px;
            margin-bottom: 1.5rem;
            filter: brightness(0) invert(1);
        }

        /* Responsive */
        @media (max-width: 992px) {
            .main-container {
                flex-direction: column;
            }
            
            .categories-sidebar {
                flex: none;
                width: 100%;
                position: static;
            }
            
            .categories-list {
                display: grid;
                grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
                gap: 1rem;
            }
        }

        @media (max-width: 768px) {
            .header h1 {
                font-size: 2.2rem;
            }
            
            .header p {
                font-size: 1.1rem;
            }
            
            .contact-methods {
                flex-direction: column;
                align-items: center;
            }
            
            .contact-method {
                width: 100%;
                max-width: 350px;
            }
            
            .faq-content {
                padding: 1.5rem;
            }
        }

        @media (max-width: 576px) {
            .header {
                padding: 2rem 1rem;
            }
            
            .logo-container {
                flex-direction: column;
            }
            
            .logo {
                margin-right: 0;
                margin-bottom: 15px;
            }
            
            .header h1 {
                font-size: 1.8rem;
            }
            
            .categories-list {
                grid-template-columns: 1fr;
            }
        }

        /* Animasi */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .fade-in {
            animation: fadeIn 0.6s ease-out;
        }

        /* Scroll to top button */
        .scroll-top {
            position: fixed;
            bottom: 30px;
            right: 30px;
            width: 50px;
            height: 50px;
            background: var(--primary);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            cursor: pointer;
            box-shadow: 0 4px 12px rgba(0,0,0,0.2);
            transition: all 0.3s;
            z-index: 100;
            opacity: 0;
            visibility: hidden;
        }

        .scroll-top.show {
            opacity: 1;
            visibility: visible;
        }

        .scroll-top:hover {
            background: var(--primary-dark);
            transform: translateY(-3px);
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="header-content">
            <div class="logo-container">
                <img src="https://via.placeholder.com/70x70/66b243/ffffff?text=BP" alt="BP TAPERA Logo" class="logo">
                <h1>FAQ BP TAPERA</h1>
            </div>
            <p>Temukan Jawaban Anda & Raih Manfaatnya!</p>
        </div>
    </header>

    <!-- Search Section -->
    <section class="search-section">
        <div class="search-container">
            <input type="text" id="searchInput" class="search-box" placeholder="Cari pertanyaan atau kata kunci...">
            <div class="search-icon">
                <i class="fas fa-search"></i>
            </div>
        </div>
    </section>

    <!-- Main Content -->
    <div class="main-container">
        <!-- Categories Sidebar -->
        <div class="categories-sidebar">
            <h2 class="categories-title">Kategori FAQ</h2>
            <div class="categories-list">
                <div class="category-item active" data-category="pengembalian-dana">
                    <div class="category-icon">
                        <i class="fas fa-hand-holding-usd"></i>
                    </div>
                    <div class="category-name">Pengembalian Dana Tabungan</div>
                </div>
                <div class="category-item" data-category="tentang-bp-tapera">
                    <div class="category-icon">
                        <i class="fas fa-building"></i>
                    </div>
                    <div class="category-name">Tentang BP TAPERA</div>
                </div>
                <div class="category-item" data-category="pengelolaan-dana">
                    <div class="category-icon">
                        <i class="fas fa-chart-line"></i>
                    </div>
                    <div class="category-name">Pengelolaan Dana TAPERA</div>
                </div>
                <div class="category-item" data-category="kpr-tapera">
                    <div class="category-icon">
                        <i class="fas fa-home"></i>
                    </div>
                    <div class="category-name">KPR TAPERA</div>
                </div>
                <div class="category-item" data-category="kbr-tapera">
                    <div class="category-icon">
                        <i class="fas fa-hammer"></i>
                    </div>
                    <div class="category-name">KBR TAPERA</div>
                </div>
                <div class="category-item" data-category="krr-tapera">
                    <div class="category-icon">
                        <i class="fas fa-tools"></i>
                    </div>
                    <div class="category-name">KRR TAPERA</div>
                </div>
                <div class="category-item" data-category="flpp">
                    <div class="category-icon">
                        <i class="fas fa-house-user"></i>
                    </div>
                    <div class="category-name">FLPP</div>
                </div>
                <div class="category-item" data-category="pengembalian-tabungan">
                    <div class="category-icon">
                        <i class="fas fa-wallet"></i>
                    </div>
                    <div class="category-name">Pengembalian Tabungan</div>
                </div>
                <div class="category-item" data-category="kepesertaan">
                    <div class="category-icon">
                        <i class="fas fa-users"></i>
                    </div>
                    <div class="category-name">Kepesertaan TAPERA</div>
                </div>
                <div class="category-item" data-category="tapera-channel">
                    <div class="category-icon">
                        <i class="fas fa-mobile-alt"></i>
                    </div>
                    <div class="category-name">TAPERA Channel</div>
                </div>
            </div>
        </div>

        <!-- FAQ Content -->
        <div class="faq-content">
            <div id="faqContent">
                <!-- Konten FAQ akan dimuat di sini secara dinamis -->
            </div>
        </div>
    </div>

    <!-- Contact Section -->
    <div class="container" style="max-width: 1200px; margin: 0 auto; padding: 0 1rem;">
        <section class="contact-section">
            <h2>Butuh Bantuan Lebih Lanjut?</h2>
            <p>Hubungi kami melalui berbagai saluran yang tersedia. Tim kami siap membantu Anda!</p>
            <div class="contact-methods">
                <div class="contact-method">
                    <div class="contact-icon">
                        <i class="fas fa-phone-alt"></i>
                    </div>
                    <div class="contact-details">
                        <strong>Call Center</strong>
                        1500156 atau 156
                    </div>
                </div>
                <div class="contact-method">
                    <div class="contact-icon">
                        <i class="fab fa-whatsapp"></i>
                    </div>
                    <div class="contact-details">
                        <strong>WhatsApp</strong>
                        08118 156 156
                    </div>
                </div>
                <div class="contact-method">
                    <div class="contact-icon">
                        <i class="fas fa-envelope"></i>
                    </div>
                    <div class="contact-details">
                        <strong>Email</strong>
                        layanan@tapera.go.id
                    </div>
                </div>
            </div>
        </section>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-content">
            <img src="https://via.placeholder.com/50x50/ffffff/66b243?text=BP" alt="BP TAPERA Logo" class="footer-logo">
            <p>&copy; 2023 BP TAPERA - Badan Pengelola Tabungan Perumahan Rakyat</p>
            <p>Menara Mandiri 2, Lantai 7–9, Jl. Jend. Sudirman Kav. 52-53 No. 54-55, Senayan, Kebayoran Baru, Jakarta Selatan</p>
        </div>
    </footer>

    <!-- Scroll to Top Button -->
    <div class="scroll-top" id="scrollTop">
        <i class="fas fa-chevron-up"></i>
    </div>

    <script>
        // Data FAQ
        const faqData = {
            "pengembalian-dana": [
                {
                    question: "Bagaimana mengetahui jika peserta telah menerima pengembalian dana tabungan?",
                    answer: "Peserta dapat menghubungi layanan Contact Center (156) dengan mengirimkan kelengkapan data untuk dilakukan pengecekan."
                },
                {
                    question: "Bagaimana mekanisme pengembalian tabungan pensiun normal?",
                    answer: "Proses pengembalian tabungan menggunakan mekanisme transfer ke rekening bank yang sudah terdaftar. Pastikan data rekening Anda sudah terupdate di sistem BP TAPERA."
                }
            ],
            "tentang-bp-tapera": [
                {
                    question: "Apa itu TAPERA?",
                    answer: "Tabungan Perumahan Rakyat (TAPERA) adalah simpanan yang dilakukan oleh peserta secara periodik dalam jangka waktu tertentu yang hanya dapat dimanfaatkan untuk pembiayaan rumah."
                },
                {
                    question: "Apa itu BP TAPERA?",
                    answer: "Badan Hukum Publik di Indonesia yang dibentuk untuk mengelola Tabungan Perumahan Rakyat. BP Tapera bertanggungjawab pada Komite Tapera yang beranggotakan Menteri Perumahan dan Kawasan Pemukiman, Menteri Keuangan, Komisioner Otoritas Jasa Keuangan, serta unsur profesional yang memahami perumahan dan permukiman."
                },
                {
                    question: "Bagaimana mekanisme pengelolaan dana di BP TAPERA?",
                    answer: "Dana peserta dikelola secara profesional dan diinvestasikan untuk meningkatkan nilai simpanan, dengan hasil yang akan dikembalikan saat peserta pensiun atau mengakhiri kepesertaan."
                }
            ],
            "pengelolaan-dana": [
                {
                    question: "Bagaimana TAPERA mengelola dana pesertanya?",
                    answer: "Pengelolaan dana Tapera terbagi menjadi 3 (tiga) core business yaitu Pengerahan, Pemupukan dan Pemanfaatan yang dijabarkan sebagai berikut: 1. Pengerahan Dana Tapera dilakukan untuk pengumpulan dana dari Peserta serta dana yang dikumpulkan disimpan oleh Bank Kustodian; 2. Pemupukan Dana Tapera dilakukan untuk meningkatkan nilai Dana Tapera yang dilakukan dengan prinsip konvensional atau prinsip syariah; 3. Pemanfaatan Dana Tapera dilakukan untuk pembiayaan perumahan bagi Peserta yang dilaksanakan melalui Bank atau Perusahaan Pembiayaan yang meliputi KPR, KBR dan KRR."
                },
                {
                    question: "Apakah investasi di TAPERA aman?",
                    answer: "Tentu, kami menjamin investasi yang aman dan terpercaya karena dana yang dikelola oleh BP Tapera aman dan terpercaya karena dikelola oleh Manajer Investasi dan Bank Kustodian."
                }
            ],
            "kpr-tapera": [
                {
                    question: "Apa itu KPR TAPERA?",
                    answer: "KPR TAPERA adalah produk pembiayaan bagi peserta yang ingin membeli rumah dengan skema Kredit Pemilikan Rumah."
                },
                {
                    question: "Apa keunggulan KPR TAPERA dibandingkan KPR bank biasa?",
                    answer: "KPR TAPERA menawarkan bunga kompetitif, tenor panjang sesuai kemampuan, serta kemudahan proses bagi peserta Tapera."
                }
            ],
            "kbr-tapera": [
                {
                    question: "Apa itu KBR TAPERA?",
                    answer: "KBR TAPERA adalah produk pembiayaan bagi peserta yang ingin membangun rumah di atas tanah pribadi milik sendiri."
                },
                {
                    question: "Apakah tanah yang digunakan harus sudah bersertifikat?",
                    answer: "Iya, tanah harus sudah bersertifikat sebagai bukti kepemilikan legal untuk pengajuan KBR TAPERA."
                }
            ],
            "krr-tapera": [
                {
                    question: "Apa itu KRR TAPERA?",
                    answer: "KRR TAPERA adalah produk pembiayaan yang membantu peserta membeli rumah yang sudah jadi dengan ketentuan dan metode pembiayaan tertentu."
                },
                {
                    question: "Apakah KRR TAPERA bisa digunakan untuk membeli rumah bekas (second)?",
                    answer: "Ya, KRR TAPERA dapat digunakan untuk membeli rumah bekas yang memenuhi standar kelayakan dari BP TAPERA."
                }
            ],
            "flpp": [
                {
                    question: "Apa itu FLPP?",
                    answer: "FLPP adalah pembiayaan perumahan subsidi pemerintah untuk masyarakat non-ASN yang ingin membeli rumah pertama."
                },
                {
                    question: "Apakah FLPP hanya untuk warga yang belum pernah memiliki rumah?",
                    answer: "Ya, FLPP ditujukan bagi masyarakat yang belum memiliki rumah untuk mendorong kepemilikan pertama."
                }
            ],
            "pengembalian-tabungan": [
                {
                    question: "Apa itu produk Pengembalian Tabungan?",
                    answer: "Produk ini mengatur pengembalian simpanan pokok dan hasil investasi kepada peserta yang sudah pensiun atau mengakhiri kepesertaan."
                },
                {
                    question: "Kapan peserta berhak mengajukan pengembalian tabungan?",
                    answer: "Saat pensiun atau sesuai ketentuan di peraturan BP TAPERA."
                }
            ],
            "kepesertaan": [
                {
                    question: "Siapa saja yang bisa menjadi peserta TAPERA?",
                    answer: "Berdasarkan UU No.4 Tahun 2016 tentang Tabungan Perumahan Rakyat, bahwa setiap pekerja dan pekerja mandiri yang berpenghasilan paling sedikit sebesar upah minimum wajib menjadi Peserta Tapera."
                },
                {
                    question: "Siapakah yang wajib menjadi peserta TAPERA?",
                    answer: "Sesuai dengan Pasal 7 ayat (1) dan ayat (3) UU No 4 Tahun 2016 mengamanatkan: Setiap Pekerja dan Pekerja Mandiri yang berpenghasilan paling sedikit sebesar upah minimum WAJIB menjadi Peserta, lebih lanjut diatur pekerja dan pekerja mandiri diamaksud telah berusia 20 tahun atau sudah menikah. dan berakhir usia 58 tahun"
                }
            ],
            "tapera-channel": [
                {
                    question: "Apa itu Tapera Digital Service?",
                    answer: "Tapera Digital Service adalah layanan digital milik BP Tapera yang memudahkan peserta dan pengembang dalam mengakses seluruh fitur Tapera secara online."
                },
                {
                    question: "Apa saja layanan yang tersedia di Tapera Digital Service?",
                    answer: "Melalui portal SITARA, pengguna dapat mengakses: Pendaftaran dan validasi kepesertaan Tapera, Pengajuan pengembalian tabungan (e-Klaim), Pemutakhiran data pribadi dan pekerjaan, Pemantauan saldo tabungan, Panduan dan informasi layanan Tapera."
                }
            ]
        };

        // Fungsi untuk membuat elemen FAQ
        function createFAQSection(categoryId, categoryName, faqs) {
            const section = document.createElement('div');
            section.className = 'faq-section fade-in';
            section.id = categoryId;
            
            const title = document.createElement('h2');
            title.className = 'faq-section-title';
            
            // Menambahkan ikon berdasarkan kategori
            let icon = '';
            switch(categoryId) {
                case 'pengembalian-dana': icon = '<i class="fas fa-hand-holding-usd"></i>'; break;
                case 'tentang-bp-tapera': icon = '<i class="fas fa-building"></i>'; break;
                case 'pengelolaan-dana': icon = '<i class="fas fa-chart-line"></i>'; break;
                case 'kpr-tapera': icon = '<i class="fas fa-home"></i>'; break;
                case 'kbr-tapera': icon = '<i class="fas fa-hammer"></i>'; break;
                case 'krr-tapera': icon = '<i class="fas fa-tools"></i>'; break;
                case 'flpp': icon = '<i class="fas fa-house-user"></i>'; break;
                case 'pengembalian-tabungan': icon = '<i class="fas fa-wallet"></i>'; break;
                case 'kepesertaan': icon = '<i class="fas fa-users"></i>'; break;
                case 'tapera-channel': icon = '<i class="fas fa-mobile-alt"></i>'; break;
                default: icon = '<i class="fas fa-question-circle"></i>';
            }
            
            title.innerHTML = `<span class="section-icon">${icon}</span> ${categoryName}`;
            section.appendChild(title);
            
            if (faqs.length === 0) {
                const noResults = document.createElement('div');
                noResults.className = 'no-results';
                noResults.innerHTML = '<p>Tidak ada pertanyaan yang cocok dengan pencarian Anda.</p>';
                section.appendChild(noResults);
            } else {
                faqs.forEach((faq, index) => {
                    const faqItem = document.createElement('div');
                    faqItem.className = 'faq-item';
                    
                    const question = document.createElement('div');
                    question.className = 'faq-question';
                    question.textContent = faq.question;
                    
                    const answer = document.createElement('div');
                    answer.className = 'faq-answer';
                    answer.innerHTML = `<p>${faq.answer}</p>`;
                    
                    faqItem.appendChild(question);
                    faqItem.appendChild(answer);
                    
                    // Event listener untuk toggle FAQ
                    question.addEventListener('click', () => {
                        faqItem.classList.toggle('active');
                    });
                    
                    section.appendChild(faqItem);
                });
            }
            
            return section;
        }

        // Fungsi untuk menampilkan kategori yang dipilih
        function showCategory(categoryId) {
            // Update active class pada kategori
            document.querySelectorAll('.category-item').forEach(item => {
                item.classList.remove('active');
            });
            document.querySelector(`.category-item[data-category="${categoryId}"]`).classList.add('active');
            
            // Tampilkan konten FAQ
            const faqContent = document.getElementById('faqContent');
            faqContent.innerHTML = '';
            
            let categoryName = '';
            switch(categoryId) {
                case 'pengembalian-dana': categoryName = 'Pengembalian Dana Tabungan'; break;
                case 'tentang-bp-tapera': categoryName = 'Tentang BP TAPERA'; break;
                case 'pengelolaan-dana': categoryName = 'Pengelolaan Dana TAPERA'; break;
                case 'kpr-tapera': categoryName = 'KPR TAPERA'; break;
                case 'kbr-tapera': categoryName = 'KBR TAPERA'; break;
                case 'krr-tapera': categoryName = 'KRR TAPERA'; break;
                case 'flpp': categoryName = 'FLPP'; break;
                case 'pengembalian-tabungan': categoryName = 'Pengembalian Tabungan'; break;
                case 'kepesertaan': categoryName = 'Kepesertaan TAPERA'; break;
                case 'tapera-channel': categoryName = 'TAPERA Channel'; break;
            }
            
            const faqs = faqData[categoryId] || [];
            const section = createFAQSection(categoryId, categoryName, faqs);
            faqContent.appendChild(section);
        }

        // Fungsi pencarian
        function searchFAQs(query) {
            const faqContent = document.getElementById('faqContent');
            faqContent.innerHTML = '';
            
            const lowerQuery = query.toLowerCase();
            let foundResults = false;
            let allResults = [];
            
            // Kumpulkan semua hasil dari semua kategori
            for (const [categoryId, faqs] of Object.entries(faqData)) {
                const filteredFAQs = faqs.filter(faq => 
                    faq.question.toLowerCase().includes(lowerQuery) || 
                    faq.answer.toLowerCase().includes(lowerQuery)
                );
                
                if (filteredFAQs.length > 0) {
                    foundResults = true;
                    allResults = allResults.concat(filteredFAQs.map(faq => ({
                        ...faq,
                        categoryId
                    })));
                }
            }
            
            if (foundResults) {
                const section = document.createElement('div');
                section.className = 'faq-section fade-in';
                
                const title = document.createElement('h2');
                title.className = 'faq-section-title';
                title.innerHTML = `<span class="section-icon"><i class="fas fa-search"></i></span> Hasil Pencarian: "${query}"`;
                section.appendChild(title);
                
                allResults.forEach((faq, index) => {
                    const faqItem = document.createElement('div');
                    faqItem.className = 'faq-item';
                    
                    const question = document.createElement('div');
                    question.className = 'faq-question';
                    question.innerHTML = highlightText(faq.question, lowerQuery);
                    
                    const answer = document.createElement('div');
                    answer.className = 'faq-answer';
                    answer.innerHTML = `<p>${highlightText(faq.answer, lowerQuery)}</p>`;
                    
                    faqItem.appendChild(question);
                    faqItem.appendChild(answer);
                    
                    // Event listener untuk toggle FAQ
                    question.addEventListener('click', () => {
                        faqItem.classList.toggle('active');
                    });
                    
                    section.appendChild(faqItem);
                });
                
                faqContent.appendChild(section);
            } else {
                faqContent.innerHTML = '<div class="no-results fade-in"><h3>Tidak ditemukan hasil untuk pencarian Anda</h3><p>Coba gunakan kata kunci yang berbeda atau lihat semua kategori FAQ di sebelah kiri.</p></div>';
            }
        }

        // Fungsi untuk menyorot teks yang cocok
        function highlightText(text, query) {
            if (!query) return text;
            
            const regex = new RegExp(`(${query})`, 'gi');
            return text.replace(regex, '<span class="highlight">$1</span>');
        }

        // Event listener untuk kategori
        document.querySelectorAll('.category-item').forEach(item => {
            item.addEventListener('click', () => {
                const categoryId = item.getAttribute('data-category');
                showCategory(categoryId);
            });
        });

        // Event listener untuk pencarian
        document.getElementById('searchInput').addEventListener('input', (e) => {
            const query = e.target.value.trim();
            
            if (query.length > 2) {
                searchFAQs(query);
            } else if (query.length === 0) {
                // Kembali ke kategori aktif saat pencarian dikosongkan
                const activeCategory = document.querySelector('.category-item.active').getAttribute('data-category');
                showCategory(activeCategory);
            }
        });

        // Scroll to top functionality
        const scrollTopBtn = document.getElementById('scrollTop');
        
        window.addEventListener('scroll', () => {
            if (window.pageYOffset > 300) {
                scrollTopBtn.classList.add('show');
            } else {
                scrollTopBtn.classList.remove('show');
            }
        });
        
        scrollTopBtn.addEventListener('click', () => {
            window.scrollTo({
                top: 0,
                behavior: 'smooth'
            });
        });

        // Muat kategori default saat halaman dimuat
        document.addEventListener('DOMContentLoaded', () => {
            showCategory('pengembalian-dana');
        });
    </script>
</body>
</html>
